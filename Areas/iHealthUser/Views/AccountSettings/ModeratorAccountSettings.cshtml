@model InnDocs.iHealth.Web.UI.Models.LoginAndSignUp
@{
    ViewBag.Title = "GroupUserAccountSettings";
}
@*<script src="~/CustomScripts/personal-account.js" type="text/javascript"></script>
<script src="~/CustomScripts/edit-user.js" type="text/javascript"></script>*@
@Scripts.Render("~/bundles/AccountInfo")
<h2>
    Group user account settings</h2>
@*<div>*@
    <div class="PAccount" id="moduser">
        @*<form  action="@Url.Action("SubmitDetails", "AccountSettings")" method="post">*@
        @*sandeep*@ @*<ul>
            <li class="labelPA"></li>
        </ul>*@
        <input type="hidden" id="hdnUserID" value="@Model.IHealthUser.UserId" name="IHealthUser.UserId"/>
        @* <div style="width: 100%" class="inline">
            <div class="tldiv inline">
                <h5>
                    <label> First Name</label></h5>
            </div>
            <div class="trdiv inline" style="width: 45%; margin-right: 15%">
                <label id="lblFirstName" style="border: none; font-size: 15px" class="create-logtxts">@Model.IHealthUser.FirstName</label>
                <input type="text" id="txt1" title="First Name" name="IHealthUser.FirstName" style="display: none"
                    class="create-logtxts" />
            </div>
        </div>*@
        <ul>
            <li class="labelPA" style="width:250px;">First name </li>
            <li class="ValuePA" style="width:330px;">
                <label id="lblFirstName">@Model.PInfo.FirstName</label>
                @*<input type="text" id="txt1" title="First Name" name="IHealthUser.FirstName" style="display: none"
                    class="create-logtxts" />*@ </li>
            @*<div style="width: 100%" class="inline">
            <div class="tldiv inline">
                <h5>
                    <label>
                         Last Name</label></h5>
            </div>
            <div class="trdiv inline" style="width: 45%; margin-right: 15%">
                <label id="lblLastName" style="border: none; font-size: 15px" class="create-logtxts">@Model.IHealthUser.LastName</label>
                <input type="text" id="txt2" title="Last Name" name="IHealthUser.LastName" style="display: none"
                    class="create-logtxts" />
            </div>
        </div>*@ @* <li class="labelPA">Last name </li>
            <li class="ValuePA">
                <label id="lblLastName" style="border: none; font-size: 15px" class="create-logtxts">@Model.PInfo.LastName</label>
                <input type="text" id="txt2" title="Last Name" name="IHealthUser.LastName" style="display: none"
                    class="create-logtxts" />
            </li>*@ @*<div style="width: 100%" class="inline">
                <div class="tldiv inline">
                    <h5>
                        <label>
                            Login Name</label></h5>
                </div>
                <div class="trdiv inline" style="width: 45%; margin-right: 15%">
                    <label id="lblLoginName" style="border: none; font-size: 15px" class="create-logtxts">@Model.IHealthUser.LoginName</label>
                    <input type="text" id="txt3" title="Login Name" name="IHealthUser.LoginName" style="display: none"
                        class="create-logtxts" />
                </div>
            </div>*@ @*<li class="labelPA">Login name </li>
            <li class="ValuePA">
                <label id="lblLoginName" style="border: none; font-size: 15px" class="create-logtxts">@Model.IHealthUser.LoginName</label>
                <input type="text" id="txt3" title="Login Name" name="IHealthUser.LoginName" style="display: none"
                    class="create-logtxts" />
            </li>*@
            <li class="labelPA" style="width:250px;">Email id </li>
            <li class="ValuePA" style="width:330px;">@*<label id="lblEmailId" style="border: none; font-size: 15px" class="create-logtxts">@Model.IHealthUser.EmailId</label>*@
                @*<input type="text" id="txt4" name="IHealthUser.EmailId" style="display: none" class="create-logtxts"
                    readonly />*@
                @if (Model.IHealthUser.EmailId != null && Model.IHealthUser.IsVerified)
                {
                    <label id="lblEmailId">@Model.IHealthUser.EmailId</label>
                }
                else if (Model.IHealthUser.EmailId != null && !Model.IHealthUser.IsVerified)
                {
                    <label id="lblEmailId">@Model.IHealthUser.EmailId</label>
                    <input type="button" id="btnResendConfirmMail" class="greengrad" style="height: 23px;
                        width: auto; margin: -7px 0px 0px 0px; font: 600 11px 'Tauri',sans-serif;" value="Resend confirm mail" />
                }
                else
                {
                    <label id="lblEmailId">
                        NA</label>
                }
            </li>
            <li class="labelPA" style="width:250px;">Contact number </li>
            <li class="ValuePA" style="width:330px;">
                @if (Model.IHealthUser.PhoneNo != null && Model.IHealthUser.IsPhnVerified)
                {
                    <label id="lblPhoneNo">@Model.IHealthUser.PhoneNo</label>
                }
                else if (Model.IHealthUser.PhoneNo != null && !Model.IHealthUser.IsPhnVerified)
                {
                    <label id="lblPhoneNo">@Model.IHealthUser.PhoneNo</label><input type="button" id="btnVerify"
                        class="greengrad" style="height: 23px; width: auto; margin: -1px 93px 0px 0px;
                        font: 600 11px 'Tauri',sans-serif;" value="Verify Code" /><input type="button" id="btnResendOTA"
                            class="greengrad" style="height: 23px; width: auto; margin: -1px -166px 0px 0px;
                            font: 600 11px 'Tauri',sans-serif;" value="Resend Code" />
                }
                else
                {
                    <label id="lblPhoneNo">
                        NA</label>
                }
            </li>
            <li class="labelPA" style="width:250px;">User plan </li>
            <li class="ValuePA" style="width:330px;">
                <label id="lblUserPlan">@Model.SingleRegUser.UserPlan</label>
            </li>
            <li class="labelPA" style="width:250px;">User type </li>
            <li class="ValuePA" style="width:330px;">
                <label id="lblUserType">
                    Group User</label>
            </li>
            <li class="labelPA" style="width:250px;">Expiry date </li>
            <li class="ValuePA" style="width:330px;">
                <label id="lblExpiryDate">@Model.SingleRegUser.ExpireOn1</label>
            </li>
        </ul>
        <div style="width: 100%; display: inline-block">
            <input type="button" id="btnEditModerator" value="Edit" class="greengrad" style="float: right;" />
            @* <button id="editu" style="float: right" title="edit" class="graygrad">
                Edit</button>*@
            <button id="btnClose" class="graygrad" style="float: right; display: none;">
                Cancel</button>
            <input type="submit" id="btnUpdate" value="Submit" title="Click to Submit" class="greengrad"
                style="float: right; display: none; margin-right: 12px" />
        </div>
        @*</form>*@
    </div>
    @* </div>*@
    <br />
    <div style="display: block; width: 100%">
        <br />
        <div style="display: inline-block; width: 100%">
            <div style="display: inline-block;">
                <h3 style="margin-bottom: 5px; padding: 0; width: auto; padding-left: 18px">
                    Sub Users</h3>
            </div>
            @{ InnDocs.iHealth.Web.UI.Models.UserInformation user = (InnDocs.iHealth.Web.UI.Models.UserInformation)HttpContext.Current.Session["LoginUser"]; }
            @{ var Count = @Model.GetUsersCount(user.DomainId.ToString());
            }
            @{if ((Count < 50) && (@Model.SingleRegUser.IsGroupUser)) 
              {
                <div style="float: right; margin: 0 0 5px 0; display: inline-block;">
                    <a id="mod" style="width: 126px;" class="greengrad">Create new user</a>
                </div>
              }
@* else if ((Count < 15) && (@Model.RegUser.UserType == "Organization User"))
{
<div style="float: right; display: inline-block;">
<a id="mod" style="width:75px;"  class="greengrad">Create New User</a>
</div>
}*@
              else
              {
                <div style="float: right; display: inline-block;">
                    <a id="Disable" class="greengrad">Create new user</a>
                </div>
              }
            }
        </div>
        <div id="table">
            <table id="thead" @*style="width: 100%"*@>
                <thead>
                    @*style="background-image: -ms-linear-gradient(top, #6A6A6A 0%, #000000 300%);
            height: 26px; background-image: -moz-linear-gradient(top, #6A6A6A 0%, #000000 300%);
            background-image: -o-linear-gradient(top, #6A6A6A 0%, #000000 300%); background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0, #6A6A6A), color-stop(3, #000000));
            background-image: -webkit-linear-gradient(top, #6A6A6A 0%, #000000 300%); background-image: linear-gradient(to bottom, #6A6A6A 0%, #000000 300%);
            color: white; font-size: 14px;"*@
                    <tr>
                        <th style="width: 23%;" @* class="w20*@">
                            USER NAME
                        </th>
                        <th style="width: 25%;" @*class="w20"*@>
                            RELATIONSHIP
                        </th>
                        <th style="width: 22%; padding-left: 18px" @*class="w20"*@>
                            DATE ADDED
                        </th>
                        <th>
                        </th>
                    </tr>
                </thead>
                <tbody id="tbody">
                    @foreach (var UsrInfo in Model.Users)
                    {
                        foreach (var pinfo in Model.LstPInfo)
                        {
                            if (UsrInfo.UserId == pinfo.OwnerId && !UsrInfo.IsDeleted)
                            {
                        <tr>
                            <td style="width: 23%; padding-left: 18px" @*class="w20"*@>@pinfo.FirstName
                            </td>
                            <td style="width: 25%; padding-left: 18px" @*class="w20"*@>@UsrInfo.Relationship
                            </td>
                            <td style="width: 22%; padding-left: 18px" @*class="w20"*@>@UsrInfo.CreatedOn
                            </td>
                            <td @*class="w20"*@>
                                <input type="button" name="editUser" title="Edit" readonly="readonly" class="edit"
                                    onfocus="this.blur();" value="" />
                                @if (!UsrInfo.IsUsingModeratorCredentials)
                                {
                                    <input type="button" name="chpwd" title="change password" readonly="readonly" class="ChngPW"
                                        onfocus="this.blur()" value="" />
                                }
                                <input type="hidden" value="@UsrInfo.UserId"/>
                            </td>
                        </tr>
                            }
                        }
                    }
                </tbody>
            </table>
            <div style="height:30px;">
            <label id="label" ></label>
            </div>
        </div>
    </div>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
  m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-47299480-1', 'bumpdocs.com');
        ga('send', 'pageview');

</script>

@*</div>*@
